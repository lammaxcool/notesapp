server:
  port: '8080'
  shutdown: graceful

application:
  kafka:
    topic: "testTopic"
    bootstrap-servers: "kafka:9092"

spring:
  application:
    name: notes-app-server

  datasource:
    url: jdbc:postgresql://dpg-cekfh1pgp3jlcsks1bn0-a.frankfurt-postgres.render.com/notes_app_db_production
    username: notes_app_service_user
    password: 5Geml9Gjk2TjwXi5qfN4hcwuGGmpaROi
    driver-class-name: org.postgresql.Driver

  liquibase:
    change-log: classpath:db/changelog/db.changelog-server.xml

  jpa:
    hibernate:
      ddl-auto: validate
    database-platform: org.hibernate.dialect.PostgreSQLDialect

  kafka:
    bootstrap-servers: "kafka:9092"
    producer:
      properties:
        spring.json.add.type.headers: false

  cloud:
    consul:
      host: consul
      port: 8500

management:
  server:
    port: '${server.port}'
  endpoint:
    health:
      show-details: always
      status:
        http-mapping:
          down: 503
          out-of-service: 429
          up: 200
          unknown: 200
  endpoints:
    web:
      exposure:
        include: "*"

resilience4j:
  ratelimiter:
    instances:
      rateLimiterGetAll:
        limitForPeriod: 5
        limitRefreshPeriod: 60s
        timeoutDuration: 1s
